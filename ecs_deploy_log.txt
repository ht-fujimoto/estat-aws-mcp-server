==========================================
ECS Fargate デプロイ
==========================================
リージョン: ap-northeast-1
クラスター: estat-mcp-cluster

1. ECRリポジトリを作成...
{
    "repositories": [
        {
            "repositoryArn": "arn:aws:ecr:ap-northeast-1:639135896267:repository/estat-mcp-server",
            "registryId": "639135896267",
            "repositoryName": "estat-mcp-server",
            "repositoryUri": "639135896267.dkr.ecr.ap-northeast-1.amazonaws.com/estat-mcp-server",
            "createdAt": "2026-01-08T17:21:19.886000+09:00",
            "imageTagMutability": "MUTABLE",
            "imageScanningConfiguration": {
                "scanOnPush": false
            },
            "encryptionConfiguration": {
                "encryptionType": "AES256"
            }
        }
    ]
}
✅ ECRリポジトリ: 639135896267.dkr.ecr.ap-northeast-1.amazonaws.com/estat-mcp-server

2. Dockerイメージをビルド...
#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 971B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.11-slim
#2 DONE 0.7s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 178.25kB done
#4 DONE 0.0s

#5 [1/8] FROM docker.io/library/python:3.11-slim@sha256:1dd3dca85e22886e44fcad1bb7ccab6691dfa83db52214cf9e20696e095f3e36
#5 resolve docker.io/library/python:3.11-slim@sha256:1dd3dca85e22886e44fcad1bb7ccab6691dfa83db52214cf9e20696e095f3e36 0.0s done
#5 sha256:e520b56ca06c357af399db1a3f56197a91b4dd3fd26f6cc7ebaea0a55ba9408c 0B / 14.31MB 0.2s
#5 sha256:d6c334210834c83bc9858624f5bf820185717657b3cbe19be9f21121e59de882 0B / 1.27MB 0.2s
#5 sha256:fadbb2bb3227921a21310ec375def0aec3c9e3d199a0c84684c201e45f78a75e 0B / 249B 0.3s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 0B / 30.14MB 0.2s
#5 sha256:fadbb2bb3227921a21310ec375def0aec3c9e3d199a0c84684c201e45f78a75e 249B / 249B 0.4s done
#5 sha256:e520b56ca06c357af399db1a3f56197a91b4dd3fd26f6cc7ebaea0a55ba9408c 2.10MB / 14.31MB 0.8s
#5 sha256:e520b56ca06c357af399db1a3f56197a91b4dd3fd26f6cc7ebaea0a55ba9408c 7.34MB / 14.31MB 0.9s
#5 sha256:e520b56ca06c357af399db1a3f56197a91b4dd3fd26f6cc7ebaea0a55ba9408c 12.58MB / 14.31MB 1.1s
#5 sha256:e520b56ca06c357af399db1a3f56197a91b4dd3fd26f6cc7ebaea0a55ba9408c 14.31MB / 14.31MB 1.1s done
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 4.19MB / 30.14MB 1.2s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 8.39MB / 30.14MB 1.4s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 12.58MB / 30.14MB 1.5s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 17.57MB / 30.14MB 1.7s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 22.02MB / 30.14MB 1.8s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 26.21MB / 30.14MB 2.0s
#5 sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 30.14MB / 30.14MB 2.1s done
#5 extracting sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273
#5 extracting sha256:2ae15a20160209c6fd6cff4886e4ba2e666fa5bedd7b54a2c0097ea6646f0273 0.3s done
#5 DONE 2.4s

#5 [1/8] FROM docker.io/library/python:3.11-slim@sha256:1dd3dca85e22886e44fcad1bb7ccab6691dfa83db52214cf9e20696e095f3e36
#5 extracting sha256:d6c334210834c83bc9858624f5bf820185717657b3cbe19be9f21121e59de882 0.0s done
#5 extracting sha256:e520b56ca06c357af399db1a3f56197a91b4dd3fd26f6cc7ebaea0a55ba9408c 0.1s done
#5 DONE 2.6s

#5 [1/8] FROM docker.io/library/python:3.11-slim@sha256:1dd3dca85e22886e44fcad1bb7ccab6691dfa83db52214cf9e20696e095f3e36
#5 extracting sha256:fadbb2bb3227921a21310ec375def0aec3c9e3d199a0c84684c201e45f78a75e done
#5 DONE 2.6s

#6 [2/8] WORKDIR /app
#6 DONE 0.1s

#7 [3/8] RUN apt-get update && apt-get install -y     gcc     && rm -rf /var/lib/apt/lists/*
#7 0.396 Hit:1 http://deb.debian.org/debian trixie InRelease
#7 0.396 Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.3 kB]
#7 0.409 Get:3 http://deb.debian.org/debian-security trixie-security InRelease [43.4 kB]
#7 0.419 Get:4 http://deb.debian.org/debian trixie/main arm64 Packages [9607 kB]
#7 0.759 Get:5 http://deb.debian.org/debian trixie-updates/main arm64 Packages [5404 B]
#7 0.759 Get:6 http://deb.debian.org/debian-security trixie-security/main arm64 Packages [94.8 kB]
#7 1.255 Fetched 9798 kB in 1s (8497 kB/s)
#7 1.255 Reading package lists...
#7 1.485 Reading package lists...
#7 1.690 Building dependency tree...
#7 1.742 Reading state information...
#7 1.820 The following additional packages will be installed:
#7 1.820   binutils binutils-aarch64-linux-gnu binutils-common cpp cpp-14
#7 1.820   cpp-14-aarch64-linux-gnu cpp-aarch64-linux-gnu gcc-14
#7 1.820   gcc-14-aarch64-linux-gnu gcc-aarch64-linux-gnu libasan8 libatomic1
#7 1.820   libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0
#7 1.820   libctf0 libgcc-14-dev libgomp1 libgprofng0 libhwasan0 libisl23 libitm1
#7 1.820   libjansson4 liblsan0 libmpc3 libmpfr6 libsframe1 libtsan2 libubsan1
#7 1.821   linux-libc-dev manpages manpages-dev rpcsvc-proto
#7 1.821 Suggested packages:
#7 1.821   binutils-doc gprofng-gui binutils-gold cpp-doc gcc-14-locales cpp-14-doc
#7 1.821   gcc-multilib make autoconf automake libtool flex bison gdb gcc-doc
#7 1.821   gcc-14-doc gdb-aarch64-linux-gnu libc-devtools glibc-doc man-browser
#7 1.890 The following NEW packages will be installed:
#7 1.890   binutils binutils-aarch64-linux-gnu binutils-common cpp cpp-14
#7 1.890   cpp-14-aarch64-linux-gnu cpp-aarch64-linux-gnu gcc gcc-14
#7 1.890   gcc-14-aarch64-linux-gnu gcc-aarch64-linux-gnu libasan8 libatomic1
#7 1.890   libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0
#7 1.890   libctf0 libgcc-14-dev libgomp1 libgprofng0 libhwasan0 libisl23 libitm1
#7 1.891   libjansson4 liblsan0 libmpc3 libmpfr6 libsframe1 libtsan2 libubsan1
#7 1.891   linux-libc-dev manpages manpages-dev rpcsvc-proto
#7 1.917 0 upgraded, 37 newly installed, 0 to remove and 0 not upgraded.
#7 1.917 Need to get 53.2 MB of archives.
#7 1.917 After this operation, 211 MB of additional disk space will be used.
#7 1.917 Get:1 http://deb.debian.org/debian trixie/main arm64 manpages all 6.9.1-1 [1393 kB]
#7 1.970 Get:2 http://deb.debian.org/debian trixie/main arm64 libsframe1 arm64 2.44-3 [77.8 kB]
#7 1.971 Get:3 http://deb.debian.org/debian trixie/main arm64 binutils-common arm64 2.44-3 [2509 kB]
#7 2.031 Get:4 http://deb.debian.org/debian trixie/main arm64 libbinutils arm64 2.44-3 [660 kB]
#7 2.044 Get:5 http://deb.debian.org/debian trixie/main arm64 libgprofng0 arm64 2.44-3 [668 kB]
#7 2.061 Get:6 http://deb.debian.org/debian trixie/main arm64 libctf-nobfd0 arm64 2.44-3 [152 kB]
#7 2.067 Get:7 http://deb.debian.org/debian trixie/main arm64 libctf0 arm64 2.44-3 [84.2 kB]
#7 2.069 Get:8 http://deb.debian.org/debian trixie/main arm64 libjansson4 arm64 2.14-2+b3 [39.2 kB]
#7 2.070 Get:9 http://deb.debian.org/debian trixie/main arm64 binutils-aarch64-linux-gnu arm64 2.44-3 [820 kB]
#7 2.091 Get:10 http://deb.debian.org/debian trixie/main arm64 binutils arm64 2.44-3 [262 kB]
#7 2.095 Get:11 http://deb.debian.org/debian trixie/main arm64 libisl23 arm64 0.27-1 [601 kB]
#7 2.112 Get:12 http://deb.debian.org/debian trixie/main arm64 libmpfr6 arm64 4.2.2-1 [685 kB]
#7 2.129 Get:13 http://deb.debian.org/debian trixie/main arm64 libmpc3 arm64 1.3.1-1+b3 [50.5 kB]
#7 2.131 Get:14 http://deb.debian.org/debian trixie/main arm64 cpp-14-aarch64-linux-gnu arm64 14.2.0-19 [9169 kB]
#7 2.423 Get:15 http://deb.debian.org/debian trixie/main arm64 cpp-14 arm64 14.2.0-19 [1276 B]
#7 2.423 Get:16 http://deb.debian.org/debian trixie/main arm64 cpp-aarch64-linux-gnu arm64 4:14.2.0-1 [4832 B]
#7 2.423 Get:17 http://deb.debian.org/debian trixie/main arm64 cpp arm64 4:14.2.0-1 [1568 B]
#7 2.425 Get:18 http://deb.debian.org/debian trixie/main arm64 libcc1-0 arm64 14.2.0-19 [42.2 kB]
#7 2.427 Get:19 http://deb.debian.org/debian trixie/main arm64 libgomp1 arm64 14.2.0-19 [124 kB]
#7 2.428 Get:20 http://deb.debian.org/debian trixie/main arm64 libitm1 arm64 14.2.0-19 [24.2 kB]
#7 2.429 Get:21 http://deb.debian.org/debian trixie/main arm64 libatomic1 arm64 14.2.0-19 [10.1 kB]
#7 2.430 Get:22 http://deb.debian.org/debian trixie/main arm64 libasan8 arm64 14.2.0-19 [2578 kB]
#7 2.503 Get:23 http://deb.debian.org/debian trixie/main arm64 liblsan0 arm64 14.2.0-19 [1161 kB]
#7 2.536 Get:24 http://deb.debian.org/debian trixie/main arm64 libtsan2 arm64 14.2.0-19 [2383 kB]
#7 2.611 Get:25 http://deb.debian.org/debian trixie/main arm64 libubsan1 arm64 14.2.0-19 [1039 kB]
#7 2.640 Get:26 http://deb.debian.org/debian trixie/main arm64 libhwasan0 arm64 14.2.0-19 [1442 kB]
#7 2.686 Get:27 http://deb.debian.org/debian trixie/main arm64 libgcc-14-dev arm64 14.2.0-19 [2359 kB]
#7 2.750 Get:28 http://deb.debian.org/debian trixie/main arm64 gcc-14-aarch64-linux-gnu arm64 14.2.0-19 [17.7 MB]
#7 3.270 Get:29 http://deb.debian.org/debian trixie/main arm64 gcc-14 arm64 14.2.0-19 [529 kB]
#7 3.287 Get:30 http://deb.debian.org/debian trixie/main arm64 gcc-aarch64-linux-gnu arm64 4:14.2.0-1 [1440 B]
#7 3.287 Get:31 http://deb.debian.org/debian trixie/main arm64 gcc arm64 4:14.2.0-1 [5136 B]
#7 3.287 Get:32 http://deb.debian.org/debian trixie/main arm64 libc-dev-bin arm64 2.41-12 [57.4 kB]
#7 3.289 Get:33 http://deb.debian.org/debian trixie/main arm64 linux-libc-dev all 6.12.57-1 [2692 kB]
#7 3.355 Get:34 http://deb.debian.org/debian trixie/main arm64 libcrypt-dev arm64 1:4.4.38-1 [123 kB]
#7 3.356 Get:35 http://deb.debian.org/debian trixie/main arm64 rpcsvc-proto arm64 1.4.3-1+b1 [60.5 kB]
#7 3.357 Get:36 http://deb.debian.org/debian trixie/main arm64 libc6-dev arm64 2.41-12 [1621 kB]
#7 3.404 Get:37 http://deb.debian.org/debian trixie/main arm64 manpages-dev all 6.9.1-1 [2122 kB]
#7 3.581 debconf: unable to initialize frontend: Dialog
#7 3.581 debconf: (TERM is not set, so the dialog frontend is not usable.)
#7 3.581 debconf: falling back to frontend: Readline
#7 3.581 debconf: unable to initialize frontend: Readline
#7 3.581 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/aarch64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/aarch64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/aarch64-linux-gnu/perl-base /usr/lib/aarch64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 37.)
#7 3.581 debconf: falling back to frontend: Teletype
#7 3.583 debconf: unable to initialize frontend: Teletype
#7 3.583 debconf: (This frontend requires a controlling tty.)
#7 3.583 debconf: falling back to frontend: Noninteractive
#7 4.004 Fetched 53.2 MB in 2s (33.4 MB/s)
#7 4.009 Selecting previously unselected package manpages.
#7 4.009 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5642 files and directories currently installed.)
#7 4.011 Preparing to unpack .../00-manpages_6.9.1-1_all.deb ...
#7 4.011 Unpacking manpages (6.9.1-1) ...
#7 4.053 Selecting previously unselected package libsframe1:arm64.
#7 4.054 Preparing to unpack .../01-libsframe1_2.44-3_arm64.deb ...
#7 4.055 Unpacking libsframe1:arm64 (2.44-3) ...
#7 4.063 Selecting previously unselected package binutils-common:arm64.
#7 4.063 Preparing to unpack .../02-binutils-common_2.44-3_arm64.deb ...
#7 4.064 Unpacking binutils-common:arm64 (2.44-3) ...
#7 4.163 Selecting previously unselected package libbinutils:arm64.
#7 4.163 Preparing to unpack .../03-libbinutils_2.44-3_arm64.deb ...
#7 4.164 Unpacking libbinutils:arm64 (2.44-3) ...
#7 4.195 Selecting previously unselected package libgprofng0:arm64.
#7 4.196 Preparing to unpack .../04-libgprofng0_2.44-3_arm64.deb ...
#7 4.196 Unpacking libgprofng0:arm64 (2.44-3) ...
#7 4.225 Selecting previously unselected package libctf-nobfd0:arm64.
#7 4.226 Preparing to unpack .../05-libctf-nobfd0_2.44-3_arm64.deb ...
#7 4.226 Unpacking libctf-nobfd0:arm64 (2.44-3) ...
#7 4.238 Selecting previously unselected package libctf0:arm64.
#7 4.239 Preparing to unpack .../06-libctf0_2.44-3_arm64.deb ...
#7 4.240 Unpacking libctf0:arm64 (2.44-3) ...
#7 4.249 Selecting previously unselected package libjansson4:arm64.
#7 4.249 Preparing to unpack .../07-libjansson4_2.14-2+b3_arm64.deb ...
#7 4.250 Unpacking libjansson4:arm64 (2.14-2+b3) ...
#7 4.256 Selecting previously unselected package binutils-aarch64-linux-gnu.
#7 4.257 Preparing to unpack .../08-binutils-aarch64-linux-gnu_2.44-3_arm64.deb ...
#7 4.258 Unpacking binutils-aarch64-linux-gnu (2.44-3) ...
#7 4.313 Selecting previously unselected package binutils.
#7 4.314 Preparing to unpack .../09-binutils_2.44-3_arm64.deb ...
#7 4.315 Unpacking binutils (2.44-3) ...
#7 4.332 Selecting previously unselected package libisl23:arm64.
#7 4.332 Preparing to unpack .../10-libisl23_0.27-1_arm64.deb ...
#7 4.333 Unpacking libisl23:arm64 (0.27-1) ...
#7 4.361 Selecting previously unselected package libmpfr6:arm64.
#7 4.361 Preparing to unpack .../11-libmpfr6_4.2.2-1_arm64.deb ...
#7 4.362 Unpacking libmpfr6:arm64 (4.2.2-1) ...
#7 4.380 Selecting previously unselected package libmpc3:arm64.
#7 4.380 Preparing to unpack .../12-libmpc3_1.3.1-1+b3_arm64.deb ...
#7 4.381 Unpacking libmpc3:arm64 (1.3.1-1+b3) ...
#7 4.388 Selecting previously unselected package cpp-14-aarch64-linux-gnu.
#7 4.388 Preparing to unpack .../13-cpp-14-aarch64-linux-gnu_14.2.0-19_arm64.deb ...
#7 4.389 Unpacking cpp-14-aarch64-linux-gnu (14.2.0-19) ...
#7 4.654 Selecting previously unselected package cpp-14.
#7 4.655 Preparing to unpack .../14-cpp-14_14.2.0-19_arm64.deb ...
#7 4.656 Unpacking cpp-14 (14.2.0-19) ...
#7 4.661 Selecting previously unselected package cpp-aarch64-linux-gnu.
#7 4.661 Preparing to unpack .../15-cpp-aarch64-linux-gnu_4%3a14.2.0-1_arm64.deb ...
#7 4.662 Unpacking cpp-aarch64-linux-gnu (4:14.2.0-1) ...
#7 4.668 Selecting previously unselected package cpp.
#7 4.669 Preparing to unpack .../16-cpp_4%3a14.2.0-1_arm64.deb ...
#7 4.671 Unpacking cpp (4:14.2.0-1) ...
#7 4.677 Selecting previously unselected package libcc1-0:arm64.
#7 4.677 Preparing to unpack .../17-libcc1-0_14.2.0-19_arm64.deb ...
#7 4.678 Unpacking libcc1-0:arm64 (14.2.0-19) ...
#7 4.685 Selecting previously unselected package libgomp1:arm64.
#7 4.686 Preparing to unpack .../18-libgomp1_14.2.0-19_arm64.deb ...
#7 4.687 Unpacking libgomp1:arm64 (14.2.0-19) ...
#7 4.697 Selecting previously unselected package libitm1:arm64.
#7 4.697 Preparing to unpack .../19-libitm1_14.2.0-19_arm64.deb ...
#7 4.698 Unpacking libitm1:arm64 (14.2.0-19) ...
#7 4.705 Selecting previously unselected package libatomic1:arm64.
#7 4.705 Preparing to unpack .../20-libatomic1_14.2.0-19_arm64.deb ...
#7 4.706 Unpacking libatomic1:arm64 (14.2.0-19) ...
#7 4.712 Selecting previously unselected package libasan8:arm64.
#7 4.713 Preparing to unpack .../21-libasan8_14.2.0-19_arm64.deb ...
#7 4.713 Unpacking libasan8:arm64 (14.2.0-19) ...
#7 4.810 Selecting previously unselected package liblsan0:arm64.
#7 4.810 Preparing to unpack .../22-liblsan0_14.2.0-19_arm64.deb ...
#7 4.811 Unpacking liblsan0:arm64 (14.2.0-19) ...
#7 4.858 Selecting previously unselected package libtsan2:arm64.
#7 4.858 Preparing to unpack .../23-libtsan2_14.2.0-19_arm64.deb ...
#7 4.859 Unpacking libtsan2:arm64 (14.2.0-19) ...
#7 4.947 Selecting previously unselected package libubsan1:arm64.
#7 4.948 Preparing to unpack .../24-libubsan1_14.2.0-19_arm64.deb ...
#7 4.948 Unpacking libubsan1:arm64 (14.2.0-19) ...
#7 4.990 Selecting previously unselected package libhwasan0:arm64.
#7 4.991 Preparing to unpack .../25-libhwasan0_14.2.0-19_arm64.deb ...
#7 4.991 Unpacking libhwasan0:arm64 (14.2.0-19) ...
#7 5.046 Selecting previously unselected package libgcc-14-dev:arm64.
#7 5.046 Preparing to unpack .../26-libgcc-14-dev_14.2.0-19_arm64.deb ...
#7 5.047 Unpacking libgcc-14-dev:arm64 (14.2.0-19) ...
#7 5.131 Selecting previously unselected package gcc-14-aarch64-linux-gnu.
#7 5.131 Preparing to unpack .../27-gcc-14-aarch64-linux-gnu_14.2.0-19_arm64.deb ...
#7 5.132 Unpacking gcc-14-aarch64-linux-gnu (14.2.0-19) ...
#7 5.449 Selecting previously unselected package gcc-14.
#7 5.449 Preparing to unpack .../28-gcc-14_14.2.0-19_arm64.deb ...
#7 5.450 Unpacking gcc-14 (14.2.0-19) ...
#7 5.463 Selecting previously unselected package gcc-aarch64-linux-gnu.
#7 5.464 Preparing to unpack .../29-gcc-aarch64-linux-gnu_4%3a14.2.0-1_arm64.deb ...
#7 5.464 Unpacking gcc-aarch64-linux-gnu (4:14.2.0-1) ...
#7 5.470 Selecting previously unselected package gcc.
#7 5.470 Preparing to unpack .../30-gcc_4%3a14.2.0-1_arm64.deb ...
#7 5.471 Unpacking gcc (4:14.2.0-1) ...
#7 5.476 Selecting previously unselected package libc-dev-bin.
#7 5.477 Preparing to unpack .../31-libc-dev-bin_2.41-12_arm64.deb ...
#7 5.477 Unpacking libc-dev-bin (2.41-12) ...
#7 5.486 Selecting previously unselected package linux-libc-dev.
#7 5.486 Preparing to unpack .../32-linux-libc-dev_6.12.57-1_all.deb ...
#7 5.487 Unpacking linux-libc-dev (6.12.57-1) ...
#7 5.569 Selecting previously unselected package libcrypt-dev:arm64.
#7 5.569 Preparing to unpack .../33-libcrypt-dev_1%3a4.4.38-1_arm64.deb ...
#7 5.571 Unpacking libcrypt-dev:arm64 (1:4.4.38-1) ...
#7 5.582 Selecting previously unselected package rpcsvc-proto.
#7 5.582 Preparing to unpack .../34-rpcsvc-proto_1.4.3-1+b1_arm64.deb ...
#7 5.583 Unpacking rpcsvc-proto (1.4.3-1+b1) ...
#7 5.591 Selecting previously unselected package libc6-dev:arm64.
#7 5.592 Preparing to unpack .../35-libc6-dev_2.41-12_arm64.deb ...
#7 5.592 Unpacking libc6-dev:arm64 (2.41-12) ...
#7 5.659 Selecting previously unselected package manpages-dev.
#7 5.659 Preparing to unpack .../36-manpages-dev_6.9.1-1_all.deb ...
#7 5.660 Unpacking manpages-dev (6.9.1-1) ...
#7 5.743 Setting up manpages (6.9.1-1) ...
#7 5.745 Setting up binutils-common:arm64 (2.44-3) ...
#7 5.747 Setting up linux-libc-dev (6.12.57-1) ...
#7 5.748 Setting up libctf-nobfd0:arm64 (2.44-3) ...
#7 5.750 Setting up libgomp1:arm64 (14.2.0-19) ...
#7 5.752 Setting up libsframe1:arm64 (2.44-3) ...
#7 5.754 Setting up libjansson4:arm64 (2.14-2+b3) ...
#7 5.756 Setting up rpcsvc-proto (1.4.3-1+b1) ...
#7 5.758 Setting up libmpfr6:arm64 (4.2.2-1) ...
#7 5.759 Setting up libmpc3:arm64 (1.3.1-1+b3) ...
#7 5.761 Setting up libatomic1:arm64 (14.2.0-19) ...
#7 5.762 Setting up libubsan1:arm64 (14.2.0-19) ...
#7 5.764 Setting up libhwasan0:arm64 (14.2.0-19) ...
#7 5.766 Setting up libcrypt-dev:arm64 (1:4.4.38-1) ...
#7 5.769 Setting up libasan8:arm64 (14.2.0-19) ...
#7 5.771 Setting up libtsan2:arm64 (14.2.0-19) ...
#7 5.772 Setting up libbinutils:arm64 (2.44-3) ...
#7 5.774 Setting up libisl23:arm64 (0.27-1) ...
#7 5.776 Setting up libc-dev-bin (2.41-12) ...
#7 5.778 Setting up libcc1-0:arm64 (14.2.0-19) ...
#7 5.780 Setting up liblsan0:arm64 (14.2.0-19) ...
#7 5.781 Setting up libitm1:arm64 (14.2.0-19) ...
#7 5.783 Setting up libctf0:arm64 (2.44-3) ...
#7 5.785 Setting up manpages-dev (6.9.1-1) ...
#7 5.786 Setting up binutils-aarch64-linux-gnu (2.44-3) ...
#7 5.788 Setting up libgprofng0:arm64 (2.44-3) ...
#7 5.790 Setting up cpp-14-aarch64-linux-gnu (14.2.0-19) ...
#7 5.792 Setting up libc6-dev:arm64 (2.41-12) ...
#7 5.794 Setting up libgcc-14-dev:arm64 (14.2.0-19) ...
#7 5.795 Setting up binutils (2.44-3) ...
#7 5.798 Setting up cpp-aarch64-linux-gnu (4:14.2.0-1) ...
#7 5.800 Setting up cpp-14 (14.2.0-19) ...
#7 5.801 Setting up cpp (4:14.2.0-1) ...
#7 5.806 Setting up gcc-14-aarch64-linux-gnu (14.2.0-19) ...
#7 5.807 Setting up gcc-aarch64-linux-gnu (4:14.2.0-1) ...
#7 5.809 Setting up gcc-14 (14.2.0-19) ...
#7 5.810 Setting up gcc (4:14.2.0-1) ...
#7 5.814 Processing triggers for libc-bin (2.41-12) ...
#7 DONE 5.9s

#8 [4/8] COPY requirements.txt .
#8 DONE 0.0s

#9 [5/8] RUN pip install --no-cache-dir -r requirements.txt
#9 0.707 Collecting requests>=2.28.0 (from -r requirements.txt (line 1))
#9 0.760   Downloading requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
#9 0.945 Collecting boto3>=1.26.0 (from -r requirements.txt (line 2))
#9 0.953   Downloading boto3-1.42.24-py3-none-any.whl.metadata (6.8 kB)
#9 1.023 Collecting pandas>=1.5.0 (from -r requirements.txt (line 3))
#9 1.033   Downloading pandas-2.3.3-cp311-cp311-manylinux_2_24_aarch64.manylinux_2_28_aarch64.whl.metadata (91 kB)
#9 1.043      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 91.2/91.2 kB 9.0 MB/s eta 0:00:00
#9 1.089 Collecting pyarrow>=10.0.0 (from -r requirements.txt (line 4))
#9 1.097   Downloading pyarrow-22.0.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (3.2 kB)
#9 1.118 Collecting asyncio (from -r requirements.txt (line 5))
#9 1.126   Downloading asyncio-4.0.0-py3-none-any.whl.metadata (994 bytes)
#9 1.175 Collecting charset_normalizer<4,>=2 (from requests>=2.28.0->-r requirements.txt (line 1))
#9 1.182   Downloading charset_normalizer-3.4.4-cp311-cp311-manylinux2014_aarch64.manylinux_2_17_aarch64.manylinux_2_28_aarch64.whl.metadata (37 kB)
#9 1.207 Collecting idna<4,>=2.5 (from requests>=2.28.0->-r requirements.txt (line 1))
#9 1.216   Downloading idna-3.11-py3-none-any.whl.metadata (8.4 kB)
#9 1.243 Collecting urllib3<3,>=1.21.1 (from requests>=2.28.0->-r requirements.txt (line 1))
#9 1.251   Downloading urllib3-2.6.3-py3-none-any.whl.metadata (6.9 kB)
#9 1.266 Collecting certifi>=2017.4.17 (from requests>=2.28.0->-r requirements.txt (line 1))
#9 1.273   Downloading certifi-2026.1.4-py3-none-any.whl.metadata (2.5 kB)
#9 1.490 Collecting botocore<1.43.0,>=1.42.24 (from boto3>=1.26.0->-r requirements.txt (line 2))
#9 1.499   Downloading botocore-1.42.24-py3-none-any.whl.metadata (5.9 kB)
#9 1.511 Collecting jmespath<2.0.0,>=0.7.1 (from boto3>=1.26.0->-r requirements.txt (line 2))
#9 1.517   Downloading jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)
#9 1.541 Collecting s3transfer<0.17.0,>=0.16.0 (from boto3>=1.26.0->-r requirements.txt (line 2))
#9 1.549   Downloading s3transfer-0.16.0-py3-none-any.whl.metadata (1.7 kB)
#9 1.673 Collecting numpy>=1.23.2 (from pandas>=1.5.0->-r requirements.txt (line 3))
#9 1.682   Downloading numpy-2.4.0-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl.metadata (6.6 kB)
#9 1.700 Collecting python-dateutil>=2.8.2 (from pandas>=1.5.0->-r requirements.txt (line 3))
#9 1.708   Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
#9 1.731 Collecting pytz>=2020.1 (from pandas>=1.5.0->-r requirements.txt (line 3))
#9 1.739   Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
#9 1.758 Collecting tzdata>=2022.7 (from pandas>=1.5.0->-r requirements.txt (line 3))
#9 1.765   Downloading tzdata-2025.3-py2.py3-none-any.whl.metadata (1.4 kB)
#9 1.800 Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas>=1.5.0->-r requirements.txt (line 3))
#9 1.807   Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
#9 1.883 Downloading requests-2.32.5-py3-none-any.whl (64 kB)
#9 1.890    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.7/64.7 kB 8.8 MB/s eta 0:00:00
#9 1.898 Downloading boto3-1.42.24-py3-none-any.whl (140 kB)
#9 1.907    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 16.3 MB/s eta 0:00:00
#9 1.915 Downloading pandas-2.3.3-cp311-cp311-manylinux_2_24_aarch64.manylinux_2_28_aarch64.whl (12.2 MB)
#9 2.201    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.2/12.2 MB 44.5 MB/s eta 0:00:00
#9 2.211 Downloading pyarrow-22.0.0-cp311-cp311-manylinux_2_28_aarch64.whl (45.0 MB)
#9 3.519    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 45.0/45.0 MB 31.9 MB/s eta 0:00:00
#9 3.530 Downloading asyncio-4.0.0-py3-none-any.whl (5.6 kB)
#9 3.541 Downloading botocore-1.42.24-py3-none-any.whl (14.6 MB)
#9 4.017    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 14.6/14.6 MB 31.0 MB/s eta 0:00:00
#9 4.026 Downloading certifi-2026.1.4-py3-none-any.whl (152 kB)
#9 4.029    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 152.9/152.9 kB 185.8 MB/s eta 0:00:00
#9 4.042 Downloading charset_normalizer-3.4.4-cp311-cp311-manylinux2014_aarch64.manylinux_2_17_aarch64.manylinux_2_28_aarch64.whl (147 kB)
#9 4.044    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 147.3/147.3 kB 215.5 MB/s eta 0:00:00
#9 4.052 Downloading idna-3.11-py3-none-any.whl (71 kB)
#9 4.054    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 71.0/71.0 kB 230.5 MB/s eta 0:00:00
#9 4.063 Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)
#9 4.072 Downloading numpy-2.4.0-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl (14.7 MB)
#9 4.501    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 14.7/14.7 MB 34.5 MB/s eta 0:00:00
#9 4.510 Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
#9 4.514    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 229.9/229.9 kB 336.7 MB/s eta 0:00:00
#9 4.522 Downloading pytz-2025.2-py2.py3-none-any.whl (509 kB)
#9 4.539    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 509.2/509.2 kB 34.6 MB/s eta 0:00:00
#9 4.548 Downloading s3transfer-0.16.0-py3-none-any.whl (86 kB)
#9 4.550    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 86.8/86.8 kB 324.6 MB/s eta 0:00:00
#9 4.559 Downloading tzdata-2025.3-py2.py3-none-any.whl (348 kB)
#9 4.571    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 348.5/348.5 kB 33.0 MB/s eta 0:00:00
#9 4.579 Downloading urllib3-2.6.3-py3-none-any.whl (131 kB)
#9 4.583    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 131.6/131.6 kB 69.8 MB/s eta 0:00:00
#9 4.591 Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
#9 4.709 Installing collected packages: pytz, urllib3, tzdata, six, pyarrow, numpy, jmespath, idna, charset_normalizer, certifi, asyncio, requests, python-dateutil, pandas, botocore, s3transfer, boto3
#9 7.682 Successfully installed asyncio-4.0.0 boto3-1.42.24 botocore-1.42.24 certifi-2026.1.4 charset_normalizer-3.4.4 idna-3.11 jmespath-1.0.1 numpy-2.4.0 pandas-2.3.3 pyarrow-22.0.0 python-dateutil-2.9.0.post0 pytz-2025.2 requests-2.32.5 s3transfer-0.16.0 six-1.17.0 tzdata-2025.3 urllib3-2.6.3
#9 7.682 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 7.750 
#9 7.750 [notice] A new release of pip is available: 24.0 -> 25.3
#9 7.750 [notice] To update, run: pip install --upgrade pip
#9 DONE 8.0s

#10 [6/8] COPY mcp_servers/ ./mcp_servers/
#10 DONE 0.0s

#11 [7/8] COPY server_http.py .
#11 DONE 0.0s

#12 [8/8] RUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app
#12 DONE 0.1s

#13 exporting to image
#13 exporting layers
#13 exporting layers 4.7s done
#13 exporting manifest sha256:1b2db923714434db5057b3611eef677743f1206183d249598e5a0dc9b7d908ab done
#13 exporting config sha256:de4acd344a2266391f67e10b61519409b1b17c30a761ccc311d254c4d71b566e done
#13 exporting attestation manifest sha256:eb2855317bad6423fe574a1c4c98b7e0e678cbb98101e76557fbf9ef99150107 done
#13 exporting manifest list sha256:68458f2e6909d71aaf142c4b86f286129ad8c9346a534696df4d490673c21487 done
#13 naming to docker.io/library/estat-mcp-server:latest done
#13 unpacking to docker.io/library/estat-mcp-server:latest
#13 unpacking to docker.io/library/estat-mcp-server:latest 1.5s done
#13 DONE 6.2s
✅ イメージビルド完了

3. ECRにログイン...
Login Succeeded
✅ ECRログイン成功

4. イメージをECRにプッシュ...
The push refers to repository [639135896267.dkr.ecr.ap-northeast-1.amazonaws.com/estat-mcp-server]
dc9c7f9c6b56: Waiting
d6c334210834: Waiting
e520b56ca06c: Waiting
4eb1ba974010: Waiting
89c5d9451121: Waiting
f1b24abf74ba: Waiting
2ae15a201602: Waiting
6bb0027a400e: Waiting
11b60c58af4f: Waiting
fadbb2bb3227: Waiting
5fe1385ad5f7: Waiting
1bc71163fa90: Waiting
f1b24abf74ba: Waiting
2ae15a201602: Waiting
6bb0027a400e: Waiting
11b60c58af4f: Waiting
fadbb2bb3227: Waiting
5fe1385ad5f7: Waiting
d6c334210834: Waiting
e520b56ca06c: Waiting
89c5d9451121: Waiting
dc9c7f9c6b56: Pushed
5fe1385ad5f7: Pushed
1bc71163fa90: Pushed
6bb0027a400e: Pushed
11b60c58af4f: Pushed
fadbb2bb3227: Pushed
d6c334210834: Pushed
f1b24abf74ba: Pushed
e520b56ca06c: Pushed
2ae15a201602: Pushed
89c5d9451121: Pushed
4eb1ba974010: Pushed
latest: digest: sha256:68458f2e6909d71aaf142c4b86f286129ad8c9346a534696df4d490673c21487 size: 856
✅ イメージプッシュ完了

5. ECSクラスターを作成...
{
    "cluster": {
        "clusterArn": "arn:aws:ecs:ap-northeast-1:639135896267:cluster/estat-mcp-cluster",
        "clusterName": "estat-mcp-cluster",
        "status": "ACTIVE",
        "registeredContainerInstancesCount": 0,
        "runningTasksCount": 0,
        "pendingTasksCount": 0,
        "activeServicesCount": 0,
        "statistics": [],
        "tags": [],
        "settings": [
            {
                "name": "containerInsights",
                "value": "disabled"
            }
        ],
        "capacityProviders": [],
        "defaultCapacityProviderStrategy": []
    }
}
✅ クラスター作成完了

6. タスク実行ロールを作成...
{
    "Role": {
        "Path": "/",
        "RoleName": "ecsTaskExecutionRole",
        "RoleId": "AROAZJT3X2LFXPGJRDLAP",
        "Arn": "arn:aws:iam::639135896267:role/ecsTaskExecutionRole",
        "CreateDate": "2026-01-08T08:49:03+00:00",
        "AssumeRolePolicyDocument": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Principal": {
                        "Service": "ecs-tasks.amazonaws.com"
                    },
                    "Action": "sts:AssumeRole"
                }
            ]
        }
    }
}
✅ タスク実行ロール: arn:aws:iam::639135896267:role/ecsTaskExecutionRole

7. CloudWatch Logsグループを作成...
✅ ログループ: /ecs/estat-mcp

8. タスク定義を登録...
{
    "taskDefinition": {
        "taskDefinitionArn": "arn:aws:ecs:ap-northeast-1:639135896267:task-definition/estat-mcp-task:1",
        "containerDefinitions": [
            {
                "name": "estat-mcp-container",
                "image": "639135896267.dkr.ecr.ap-northeast-1.amazonaws.com/estat-mcp-server:latest",
                "cpu": 0,
                "portMappings": [
                    {
                        "containerPort": 8080,
                        "hostPort": 8080,
                        "protocol": "tcp"
                    }
                ],
                "essential": true,
                "environment": [
                    {
                        "name": "ESTAT_APP_ID",
                        "value": "320dd2fbff6974743e3f95505c9f346650ab635e"
                    },
                    {
                        "name": "S3_BUCKET",
                        "value": "estat-data-lake"
                    },
                    {
                        "name": "AWS_REGION",
                        "value": "ap-northeast-1"
                    }
                ],
                "mountPoints": [],
                "volumesFrom": [],
                "logConfiguration": {
                    "logDriver": "awslogs",
                    "options": {
                        "awslogs-group": "/ecs/estat-mcp",
                        "awslogs-region": "ap-northeast-1",
                        "awslogs-stream-prefix": "ecs"
                    }
                },
                "systemControls": []
            }
        ],
        "family": "estat-mcp-task",
        "executionRoleArn": "arn:aws:iam::639135896267:role/ecsTaskExecutionRole",
        "networkMode": "awsvpc",
        "revision": 1,
        "volumes": [],
        "status": "ACTIVE",
        "requiresAttributes": [
            {
                "name": "com.amazonaws.ecs.capability.logging-driver.awslogs"
            },
            {
                "name": "ecs.capability.execution-role-awslogs"
            },
            {
                "name": "com.amazonaws.ecs.capability.ecr-auth"
            },
            {
                "name": "com.amazonaws.ecs.capability.docker-remote-api.1.19"
            },
            {
                "name": "ecs.capability.execution-role-ecr-pull"
            },
            {
                "name": "com.amazonaws.ecs.capability.docker-remote-api.1.18"
            },
            {
                "name": "ecs.capability.task-eni"
            }
        ],
        "placementConstraints": [],
        "compatibilities": [
            "EC2",
            "MANAGED_INSTANCES",
            "FARGATE"
        ],
        "requiresCompatibilities": [
            "FARGATE"
        ],
        "cpu": "256",
        "memory": "512",
        "registeredAt": "2026-01-08T17:49:05.179000+09:00",
        "registeredBy": "arn:aws:iam::639135896267:user/s3-tables-user"
    }
}
✅ タスク定義登録完了

9. VPC情報を取得...
✅ VPC: vpc-032e06c223520bd44
✅ サブネット: subnet-0d041dcb0f945d721,subnet-03ba7c7611560097a,subnet-030bed1711793dc2d

10. セキュリティグループを作成...
{
    "Return": true,
    "SecurityGroupRules": [
        {
            "SecurityGroupRuleId": "sgr-08c7b642f0a268396",
            "GroupId": "sg-03ae5df18c9a33c8b",
            "GroupOwnerId": "639135896267",
            "IsEgress": false,
            "IpProtocol": "tcp",
            "FromPort": 8080,
            "ToPort": 8080,
            "CidrIpv4": "0.0.0.0/0",
            "SecurityGroupRuleArn": "arn:aws:ec2:ap-northeast-1:639135896267:security-group-rule/sgr-08c7b642f0a268396"
        }
    ]
}
✅ セキュリティグループ: sg-03ae5df18c9a33c8b

11. Application Load Balancerを作成...
